{"version":3,"sources":["components/Components.jsx","constants.js","taxFunctions.js","components/EstimatedTaxes.jsx","components/TaxChart.jsx","components/MarriagePenalty.jsx","App.jsx","index.js"],"names":["LabeledSelect","props","selectOptions","map","selectOption","value","name","readable","label","onInput","LabeledCheckbox","type","checked","onChange","LabeledTextBox","useState","setValue","event","targetValue","target","match","replace","disabled","LabeledSpan","JurisdictionEnum","Object","freeze","FEDERAL","CALIFORNIA","FilingStatusEnum","SINGLE","MARRIED_FILING_JOINTLY","MARRIED_FILING_SEPARATELY","HEAD_OF_HOUSEHOLD","TimePeriodEnum","FIRST","SECOND","THIRD","FOURTH","DeductionTypeEnum","STANDARD","ITEMIZED","STANDARD_DEDUCTION_AMOUNTS","JURISDICTIONS_THAT_TREAT_LONG_TERM_CAPITAL_GAINS_AS_ORDINARY_INCOME","Set","FEDERAL_INCOME_TAX_BRACKETS","bracketStart","rate","CALIFORNIA_INCOME_TAX_BRACKETS","JURISDICTION_TO_INCOME_BRACKETS","FILING_STATUS_TO_LONG_TERM_BRACKETS","bracketEnd","Infinity","adjustIncomes","jurisdiction","filingStatus","ordinaryIncome","shortTermCapitalGains","longTermCapitalGains","deductionType","itemizedDeduction","Math","max","calculateDeduction","deduction","_getStandardDeduction","calculateIncomeTax","brackets","applicableIncome","has","totalTax","bracket","calculateLongTermCapitalGainsTax","taxBrackets","accountedIncome","longTermCapitalGainsTax","unaccountedLongTermCapitalGains","taxBracket","gainsInBracket","min","calculateMedicareTax","calculateAdditionalMedicareTax","additionalTaxThreshold","calculateNetInvestmentIncomeTax","capitalGains","threshold","EstimatedTaxes","state","timePeriod","itemizedDeductions","taxCreditsAnnual","includePriorYearCalculation","priorYearAgi","priorYearTax","withholding","stateVar","this","setState","alert","multiplier","taxCredits","calculateTax","_calculateAnnualizedAdjustedIncomes","_calculateTotalTaxBasedOnAnnualizedIncome","multipliers","_calculateAnnualizedObligation","_calculateObligationDuringTimePeriod","obligations","_calculateObligationBasedOnAnnualizedIncome","_calculateAnnualizedIncome","push","_calculateObligationBasedOnPriorYear","className","handleStateChange","values","textValue","toFixed","_calculateDeduction","_calculateIncomeTax","_calculateLongTermCapitalGainsTax","_calculateAdditionalMedicareTax","_calculateNetInvestmentIncomeTax","_calculateAnnualizedEffectiveTaxRate","_calculateTaxesOwed","href","React","Component","Chart","register","LineController","CategoryScale","LinearScale","PointElement","LineElement","BarController","BarElement","Tooltip","Title","TaxChart","chartRef","createRef","chart","income","taxableIncome","calculateSocialSecurityTax","Medicare","LTCG","NIIT","myChartRef","current","getContext","options","interaction","mode","intersect","scales","position","title","display","text","stacked","plugins","totalIncome","Number","stepSize","ceil","labels","Array","from","length","v","x","effectiveTaxRateData","i","reduce","y","datasets","yAxisID","xAxisID","data","colors","previousTaxes","undefined","entries","currentTaxes","datasetIndex","findIndex","element","backgroundColor","borderColor","borderWidth","update","id","ref","financial","parseFloat","MarriagePenalty","ordinaryIncome1","setOrdinaryIncome1","shortTermCapitalGains1","setShortTermCapitalGains1","longTermCapitalGains1","setLongTermCapitalGains1","ordinaryIncome2","setOrdinaryIncome2","shortTermCapitalGains2","setShortTermCapitalGains2","longTermCapitalGains2","setLongTermCapitalGains2","tax1","setTax1","tax2","setTax2","taxMarried","setTaxMarried","taxDifference","setTaxDifference","useEffect","incomeTax","medicareTax","netInvestmentIncomeTax","stateIncomeTax","key","App","to","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2QAEO,SAASA,EAAcC,GAC5B,IAAMC,EAAgBD,EAAMC,cAAcC,KAAI,SAACC,GAAD,OAC5C,wBAAQC,MAAOD,EAAaE,KAA5B,SAAmCF,EAAaG,cAGlD,OACE,gCACE,kCAAQN,EAAMO,MAAd,QACA,wBAAQC,QAASR,EAAMQ,QAAvB,SAAiCP,OAKhC,SAASQ,EAAgBT,GAC9B,OACE,gCACE,uBACEU,KAAK,WACLC,QAASX,EAAMW,QACfC,SAAUZ,EAAMY,WAElB,gCAAQZ,EAAMO,WAKb,SAASM,EAAeb,GAAQ,IAAD,EACVc,mBAAS,IADC,mBAC7BV,EAD6B,KACtBW,EADsB,KAcpC,OACE,gCACE,gCAAQf,EAAMO,MAAQ,OACtB,uBACEG,KAAK,OACLF,QAhBU,SAACQ,GACf,IAAIC,EAAcD,EAAME,OAAOd,MAC3Ba,EAAYE,MAAM,aACpBF,EAAcA,EAAYG,QAAQ,WAAY,KAEhDL,EAASE,GACLjB,EAAMQ,SACRR,EAAMQ,QAAQS,IAUZI,SAAUrB,EAAMqB,SAChBjB,MAAOA,OAMR,SAASkB,EAAYtB,GAC1B,OACE,gCACE,gCAAQA,EAAMO,MAAQ,OACtB,+BAAOP,EAAMI,WC3DZ,I,cAAMmB,EAAmBC,OAAOC,OAAO,CAC5CC,QAAS,CAAErB,KAAM,UAAWC,SAAU,WACtCqB,WAAY,CAAEtB,KAAM,aAAcC,SAAU,QAGjCsB,EAAmBJ,OAAOC,OAAO,CAC5CI,OAAQ,CAAExB,KAAM,SAAUC,SAAU,UACpCwB,uBAAwB,CACtBzB,KAAM,yBACNC,SAAU,0BAEZyB,0BAA2B,CACzB1B,KAAM,4BACNC,SAAU,6BAEZ0B,kBAAmB,CACjB3B,KAAM,oBACNC,SAAU,uBAID2B,EAAiBT,OAAOC,OAAO,CAC1CS,MAAO,CAAE7B,KAAM,EAAGC,SAAU,cAC5B6B,OAAQ,CAAE9B,KAAM,EAAGC,SAAU,cAC7B8B,MAAO,CAAE/B,KAAM,EAAGC,SAAU,cAC5B+B,OAAQ,CAAEhC,KAAM,EAAGC,SAAU,iBAGlBgC,EAAoBd,OAAOC,OAAO,CAC7Cc,SAAU,CAAElC,KAAM,WAAYC,SAAU,YACxCkC,SAAU,CAAEnC,KAAM,WAAYC,SAAU,c,OCxBpCmC,GAA0B,mBAC7BlB,EAAiBG,QAAQrB,MADI,mBAE3BuB,EAAiBC,OAAOxB,KAAO,OAFJ,cAG3BuB,EAAiBE,uBAAuBzB,KAAO,OAHpB,cAI3BuB,EAAiBG,0BAA0B1B,KAAO,OAJvB,cAK3BuB,EAAiBI,kBAAkB3B,KAAO,OALf,kBAO7BkB,EAAiBI,WAAWtB,MAPC,mBAQ3BuB,EAAiBC,OAAOxB,KAAO,MARJ,cAS3BuB,EAAiBE,uBAAuBzB,KAAO,MATpB,cAU3BuB,EAAiBG,0BAA0B1B,KAAO,MAVvB,cAW3BuB,EAAiBI,kBAAkB3B,KAAO,MAXf,OAe1BqC,EAAsE,IAAIC,IAC9E,CAACpB,EAAiBI,WAAWtB,OAGzBuC,GAA2B,mBAC9BhB,EAAiBC,OAAOxB,KAAO,CAC9B,CAAEwC,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,KAAMC,KAAM,KAC5B,CAAED,aAAc,EAAGC,KAAM,MARI,cAU9BlB,EAAiBE,uBAAuBzB,KAAO,CAC9C,CAAEwC,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,EAAGC,KAAM,MAjBI,cAmB9BlB,EAAiBG,0BAA0B1B,KAAO,CACjD,CAAEwC,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,KAAMC,KAAM,KAC5B,CAAED,aAAc,EAAGC,KAAM,MA1BI,cA4B9BlB,EAAiBI,kBAAkB3B,KAAO,CACzC,CAAEwC,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,OAAQC,KAAM,KAC9B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,EAAGC,KAAM,MAnCI,GAuC3BC,GAA8B,mBACjCnB,EAAiBC,OAAOxB,KAAO,CAC9B,CAAEwC,aAAc,IAASC,KAAM,MAC/B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,MAAOC,KAAM,MAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,KAAMC,KAAM,KAC5B,CAAED,aAAc,EAAGC,KAAM,OAXO,cAajClB,EAAiBE,uBAAuBzB,KAAO,CAC9C,CAAEwC,aAAc,QAASC,KAAM,MAC/B,CAAED,aAAc,IAASC,KAAM,MAC/B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,EAAGC,KAAM,OAvBO,cAyBjClB,EAAiBG,0BAA0B1B,KAAO,CACjD,CAAEwC,aAAc,IAASC,KAAM,MAC/B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,MAAOC,KAAM,MAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,KAAMC,KAAM,KAC5B,CAAED,aAAc,EAAGC,KAAM,OAnCO,cAqCjClB,EAAiBI,kBAAkB3B,KAAO,CACzC,CAAEwC,aAAc,IAASC,KAAM,MAC/B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,OAAQC,KAAM,MAC9B,CAAED,aAAc,MAAOC,KAAM,MAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,MAAOC,KAAM,KAC7B,CAAED,aAAc,EAAGC,KAAM,OA/CO,GAmD9BE,GAA+B,mBAClCzB,EAAiBG,QAAQrB,KAAOuC,GADE,cAElCrB,EAAiBI,WAAWtB,KAAO0C,GAFD,GAK/BE,GAAmC,mBACtCrB,EAAiBC,OAAOxB,KAAO,CAC9B,CAAE6C,WAAY,MAAOJ,KAAM,GAC3B,CAAEI,WAAY,OAAQJ,KAAM,KAC5B,CAAEI,WAAYC,IAAUL,KAAM,MAJO,cAMtClB,EAAiBE,uBAAuBzB,KAAO,CAC9C,CAAE6C,WAAY,MAAOJ,KAAM,GAC3B,CAAEI,WAAY,OAAQJ,KAAM,KAC5B,CAAEI,WAAYC,IAAUL,KAAM,MATO,cAWtClB,EAAiBG,0BAA0B1B,KAAO,CACjD,CAAE6C,WAAY,MAAOJ,KAAM,GAC3B,CAAEI,WAAY,OAAQJ,KAAM,KAC5B,CAAEI,WAAYC,IAAUL,KAAM,MAdO,cAgBtClB,EAAiBI,kBAAkB3B,KAAO,CACzC,CAAE6C,WAAY,MAAOJ,KAAM,GAC3B,CAAEI,WAAY,OAAQJ,KAAM,KAC5B,CAAEI,WAAYC,IAAUL,KAAM,MAnBO,GA0ElC,SAASM,EACdC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GA6BA,OA3BIF,EAAuB,IACzBD,GAAyBC,EACzBA,EAAuB,GAErBD,EAAwB,IAC1BD,GAAkBK,KAAKC,IAAIL,GAAwB,KACnDA,EAAwB,IAU1BD,GAPgBO,EACdT,EACAC,EACAI,EACAC,IAImB,IACnBH,GAAyBD,GAEvBC,EAAwB,IAC1BC,GAAwBD,GAMnB,CAJPD,EAAiBK,KAAKC,IAAI,EAAGN,GAC7BC,EAAwBI,KAAKC,IAAI,EAAGL,GACpCC,EAAuBG,KAAKC,IAAI,EAAGJ,IAK9B,SAASK,EACdT,EACAC,EACAI,EACAC,GAEA,IAAII,EAAY,EAOhB,OANIL,IAAkBpB,EAAkBC,SAASlC,KAC/C0D,EAQJ,SAA+BV,EAAcC,GAC3C,OAAOb,EAA2BY,GAAcC,GATlCU,CAAsBX,EAAcC,GACvCI,IAAkBpB,EAAkBE,SAASnC,OACtD0D,EAAYJ,GAGPI,EAOF,SAASE,EACdZ,EACAC,EACAC,EACAC,EACAC,GAEA,IAAMS,EAAWlB,EAAgCK,GAAcC,GAC3Da,EAAmBZ,EAAiBC,EAEtCd,EAAoE0B,IAClEf,KAGFc,GAAoBV,GAGtB,IAXA,EAWIY,EAAW,EAXf,cAYsBH,GAZtB,IAYA,2BAAgC,CAAC,IAAtBI,EAAqB,QAC1BH,EAAmBG,EAAQzB,eAG/BwB,IAAaF,EAAmBG,EAAQzB,cAAgByB,EAAQxB,KAChEqB,EAAmBG,EAAQzB,eAjB7B,8BAoBA,OAAOwB,EAGF,SAASE,EACdlB,EACAC,EACAC,EACAC,EACAC,GAEA,GACEf,EAAoE0B,IAClEf,GAGF,OAAO,EAET,IARA,EAQMmB,EAAcvB,EAAoCK,GACpDmB,EAAkBlB,EAAiBC,EACnCkB,EAA0B,EAC1BC,EAAkClB,EAXtC,cAYyBe,GAZzB,IAYA,2BAAsC,CAAC,IAA5BI,EAA2B,QACpC,KAAIA,EAAW1B,WAAaK,EAAiBC,GAA7C,CAIA,IAAMqB,EAAiBjB,KAAKkB,IAC1BH,EACAC,EAAW1B,WAAauB,GAG1BC,GAA2BG,EAAiBD,EAAW9B,KACvD6B,GAAmCE,EACnCJ,GAAmBI,IAxBrB,8BA0BA,OAAOH,EAQF,SAASK,EAAqBzB,EAAcC,GAKjD,MAAwB,MAAjBA,EAJeyB,EACpB1B,EACAC,GAKG,SAASyB,EAA+B1B,EAAcC,GAC3D,IAAM0B,EACJ3B,IAAiB1B,EAAiBE,uBAAuBzB,KACrD,KACA,IAKN,MAAuC,KAJDuD,KAAKC,IACzC,EACAN,EAAiB0B,GAKd,SAASC,EACd5B,EACAC,EACA4B,GACC,IAAD,EAOMC,GANU,mBACbxD,EAAiBC,OAAOxB,KAAO,KADlB,cAEbuB,EAAiBE,uBAAuBzB,KAAO,MAFlC,cAGbuB,EAAiBG,0BAA0B1B,KAAO,OAHrC,cAIbuB,EAAiBI,kBAAkB3B,KAAO,KAJ7B,GAMaiD,GAK7B,MAA0B,KAJDM,KAAKC,IAC5B,EACAD,KAAKkB,IAAIvB,EAAiB4B,EAAeC,EAAWD,IC7UjD,IAAME,EAAb,kDACE,WAAYrF,GAAQ,IAAD,8BACjB,cAAMA,IACDsF,MAAQ,CACXjC,aAAc9B,EAAiBG,QAAQrB,KACvCiD,aAAc1B,EAAiBC,OAAOxB,KACtCkF,WAAYtD,EAAeC,MAAM7B,KAEjCkD,eAAgB,EAChBC,sBAAuB,EACvBC,qBAAsB,EACtBC,cAAepB,EAAkBC,SAASlC,KAC1CmF,mBAAoB,EACpBC,iBAAkB,EAElBC,6BAA6B,EAC7BC,aAAc,EACdC,aAAc,EAEdC,YAAa,GAlBE,EADrB,qDAuBE,SAAkBC,EAAU1F,GACpB0F,KAAYC,KAAKT,MAIvBS,KAAKC,SAAL,eAAiBF,EAAW1F,IAH1B6F,MAAM,6BAAD,OAA8BH,MAzBzC,kDA+BE,WACE,IAAMV,EACJW,KAAKT,MAAMhC,eACX1B,EAAiBG,0BAA0B1B,KACvC,KACA,KACA6F,EAAaH,KAAKT,MAAMK,cAAgBP,EAAY,EAAI,IAC9D,OAAOW,KAAKT,MAAMM,aAAeM,IAtCrC,wCAyCE,WACE,IAAMA,EAAa,CAAC,EAAG,IAAK,IAAK,GAAGH,KAAKT,MAAMC,YACzChC,EAAiB2C,EAAaH,KAAKT,MAAM/B,eACzCC,EAAwB0C,EAAaH,KAAKT,MAAM9B,sBAChDC,EAAuByC,EAAaH,KAAKT,MAAM7B,qBAErD,OACEF,EACAK,KAAKC,IAAIL,EAAwBC,GAAuB,OAjD9D,uDAqDE,WACE,IAAMyC,EAAa,CAAC,EAAG,IAAK,IAAK,GAAGH,KAAKT,MAAMC,YACzChC,EAAiB2C,EAAaH,KAAKT,MAAM/B,eACzCC,EAAwB0C,EAAaH,KAAKT,MAAM9B,sBAChDC,EAAuByC,EAAaH,KAAKT,MAAM7B,qBAErD,OD6DG,SACLJ,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAwC,GACC,IAAD,EACgE/C,EAC9DC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GARF,mBAWIU,EAAWJ,EACbZ,EACAC,EAZDC,EADD,KACiBC,EADjB,KACwCC,EADxC,MAuCA,OArBAY,GAAYE,EACVlB,EACAC,EACAC,EACAC,EACAC,GAGEJ,IAAiB9B,EAAiBG,QAAQrB,OAC5CgE,GAAYW,EAA+B1B,EAAcC,GACzDc,GAAYa,EACV5B,EACAC,EACAC,EAAwBC,IAI5BY,GAAY8B,EAEDvC,KAAKC,IAAI,EAAGQ,GC3Gd+B,CACLL,KAAKT,MAAMjC,aACX0C,KAAKT,MAAMhC,aACXC,EACAC,EACAC,EACAsC,KAAKT,MAAM5B,cACXwC,EAAaH,KAAKT,MAAME,mBACxBO,KAAKT,MAAMG,oBAnEjB,iDAuEE,WACE,IAAMS,EAAa,CAAC,EAAG,IAAK,IAAK,GAAGH,KAAKT,MAAMC,YAC3ChC,EAAiB2C,EAAaH,KAAKT,MAAM/B,eACzCC,EAAwB0C,EAAaH,KAAKT,MAAM9B,sBAChDC,EAAuByC,EAAaH,KAAKT,MAAM7B,qBAC/C+B,EAAqBU,EAAaH,KAAKT,MAAME,mBAEjD,OAAOpC,EACL2C,KAAKT,MAAMjC,aACX0C,KAAKT,MAAMhC,aACXC,EACAC,EACAC,EACAsC,KAAKT,MAAM5B,cACX8B,KArFN,iCAyFE,WACE,IACMA,EADa,CAAC,EAAG,IAAK,IAAK,GAAGO,KAAKT,MAAMC,YACPQ,KAAKT,MAAME,mBACnD,OAAO1B,EACLiC,KAAKT,MAAMjC,aACX0C,KAAKT,MAAMhC,aACXyC,KAAKT,MAAM5B,cACX8B,KAhGN,iCAoGE,WAAuB,IAAD,EAKhBO,KAAKM,sCALW,mBAElB9C,EAFkB,KAGlBC,EAHkB,KAIlBC,EAJkB,KAOpB,OAAOQ,EACL8B,KAAKT,MAAMjC,aACX0C,KAAKT,MAAMhC,aACXC,EACAC,EACAC,KAhHN,+CAoHE,WAAqC,IAAD,EAK9BsC,KAAKM,sCALyB,mBAEhC9C,EAFgC,KAGhCC,EAHgC,KAIhCC,EAJgC,KAOlC,OAAOc,EACLwB,KAAKT,MAAMjC,aACX0C,KAAKT,MAAMhC,aACXC,EACAC,EACAC,KAhIN,6CAoIE,WAAmC,IAAD,EACPsC,KAAKM,sCAAvB9C,EADyB,oBAGhC,OAAOyB,EACLe,KAAKT,MAAMhC,aACXC,KAzIN,8CA6IE,WAAoC,IAAD,EAK7BwC,KAAKM,sCALwB,mBAE/B9C,EAF+B,KAG/BC,EAH+B,KAI/BC,EAJ+B,KAOjC,OAAOyB,EACLa,KAAKT,MAAMhC,aACXC,EACAC,EAAwBC,KAvJ9B,yDA2JE,WACE,MAAO,GAAMsC,KAAKO,8CA5JtB,kDA+JE,WACE,IAAIC,EAAc,CAAC,IAAM,GAAK,IAAM,GAChCR,KAAKT,MAAMjC,eAAiB9B,EAAiBI,WAAWtB,OAC1DkG,EAAc,CAAC,GAAK,GAAK,GAAK,IAEhC,IAAMzD,EAAOyD,EAAYR,KAAKT,MAAMC,YAEpC,OADmBQ,KAAKS,iCACJ1D,IAtKxB,iCAyKE,WACE,OAAOiD,KAAKU,uCAAyCV,KAAKT,MAAMO,cA1KpE,4CA6KE,WACE,IAAIa,EAAc,CAACX,KAAKY,+CAWxB,OAVIZ,KAAKT,MAAMI,8BAGTK,KAAKT,MAAMjC,eAAiB9B,EAAiBI,WAAWtB,MACxD0F,KAAKa,6BAA+B,KAGtCF,EAAYG,KAAKd,KAAKe,yCAGnBlD,KAAKkB,IAAL,MAAAlB,KAAY8C,KAzLvB,kDA4LE,WAGE,OAFiBX,KAAKO,4CACPP,KAAKa,8BACQ,IA/LhC,oBAkME,WAAU,IAAD,OACP,OACE,sBAAKG,UAAU,iBAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,WAAf,UACE,cAAChH,EAAD,CACES,QAAS,SAACQ,GAAD,OACP,EAAKgG,kBAAkB,eAAgBhG,EAAME,OAAOd,QAEtDG,MAAM,eACNN,cAAeuB,OAAOyF,OAAO1F,KAE/B,cAACxB,EAAD,CACES,QAAS,SAACQ,GAAD,OACP,EAAKgG,kBAAkB,eAAgBhG,EAAME,OAAOd,QAEtDG,MAAM,gBACNN,cAAeuB,OAAOyF,OAAOrF,KAE/B,cAAC7B,EAAD,CACES,QAAS,SAACQ,GAAD,OACP,EAAKgG,kBAAkB,aAAchG,EAAME,OAAOd,QAEpDG,MAAM,cACNN,cAAeuB,OAAOyF,OAAOhF,UAInC,qBAAK8E,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,cAAClG,EAAD,CACEN,MAAM,kBACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,iBAAkBE,MAG7C,cAACrG,EAAD,CACEN,MAAM,2BACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,wBAAyBE,MAGpD,cAACrG,EAAD,CACEN,MAAM,0BACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,uBAAwBE,MAGnD,cAACnH,EAAD,CACES,QAAS,SAACQ,GAAD,OACP,EAAKgG,kBAAkB,gBAAiBhG,EAAME,OAAOd,QAEvDG,MAAM,iBACNN,cAAeuB,OAAOyF,OAAO3E,KAED,aAA7ByD,KAAKT,MAAM5B,eACV,cAAC7C,EAAD,CACEN,MAAM,sBACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,qBAAsBE,MAInD,cAACrG,EAAD,CACEN,MAAM,uBACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,mBAAoBE,SAKjD,sBAAKH,UAAU,WAAf,UACE,cAACzF,EAAD,CACEf,MAAM,oBACNH,MAAO2F,KAAKa,6BAA6BO,QAAQ,KAEnD,qBAAKJ,UAAU,QAAf,SACE,cAACzF,EAAD,CACEf,MAAM,YACNH,MAAO2F,KAAKqB,sBAAsBD,QAAQ,OAG7CpB,KAAKT,MAAMjC,eAAiB9B,EAAiBG,QAAQrB,MACpD,sBAAK0G,UAAU,QAAf,UACE,cAACzF,EAAD,CACEf,MAAM,aACNH,MAAO2F,KAAKsB,sBAAsBF,QAAQ,KAE5C,cAAC7F,EAAD,CACEf,MAAM,8BACNH,MAAO2F,KAAKuB,oCAAoCH,QAC9C,KAGJ,cAAC7F,EAAD,CACEf,MAAM,0BACNH,MAAO2F,KAAKwB,kCAAkCJ,QAAQ,KAExD,cAAC7F,EAAD,CACEf,MAAM,qBACNH,MAAO2F,KAAKyB,mCAAmCL,QAAQ,QAI7D,cAAC7F,EAAD,CACEf,MAAM,YACNH,MACE2F,KAAKO,4CAA4Ca,QAC/C,GAEF,MAC+C,IAA9CpB,KAAK0B,wCAA8CN,QAClD,GAEF,OAGJ,cAAC7F,EAAD,CACEf,MAAM,wCACNH,MAAO2F,KAAKY,8CAA8CQ,QACxD,WAMR,sBAAKJ,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,cAACtG,EAAD,CACEF,MAAM,iCACNI,QAASoF,KAAKT,MAAMI,4BACpB9E,SAAU,SAACI,GAAD,OACR,EAAKgG,kBACH,8BACAhG,EAAME,OAAOP,YAInB,cAACE,EAAD,CACEN,MAAM,iBACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,eAAgBE,IAEzC7F,UAAW0E,KAAKT,MAAMI,8BAExB,cAAC7E,EAAD,CACEN,MAAM,iBACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,eAAgBE,IAEzC7F,UAAW0E,KAAKT,MAAMI,iCAI1B,qBAAKqB,UAAU,WAAf,SACE,cAACzF,EAAD,CACEf,MAAM,iCACNH,MAAO2F,KAAKe,uCAAuCK,QAAQ,eAMrE,qBAAKJ,UAAU,MAAf,SACE,sBAAKA,UAAU,WAAf,UACE,cAACzF,EAAD,CACEf,MAAM,wBACNH,MAAO2F,KAAKS,iCAAiCW,QAAQ,KAGvD,cAAC7F,EAAD,CACEf,MAAM,4BACNH,MAAO2F,KAAKU,uCAAuCU,QAAQ,KAG7D,cAACtG,EAAD,CACEN,MAAM,kBACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,cAAeE,MAI1C,cAAC5F,EAAD,CACEf,MAAM,aACNH,MAAO2F,KAAK2B,sBAAsBP,QAAQ,UAIhD,uBAAMJ,UAAU,SAAhB,2CACgC,uBADhC,kGAG0B,uBAH1B,qFAKiB,uBALjB,yGAO+C,IAC7C,mBAAGY,KAAK,0CAAR,kBARF,KAQ8D,uBAC5D,uBATF,2DAU0D,uBAV1D,6EAYQ,uBAZR,4DAhYR,GAAoCC,IAAMC,W,QCO1CC,IAAMC,SACJC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,KAGK,IAAMC,EAAb,kDACE,WAAYzI,GAAQ,IAAD,8BACjB,cAAMA,IAmBR0I,SAAWd,IAAMe,YAlBf,EAAKrD,MAAQ,CACXhC,aAAc1B,EAAiBC,OAAOxB,KACtCkD,eAAgB,EAChBC,sBAAuB,EACvBC,qBAAsB,EAEtBmF,MAAO,MARQ,EADrB,qDAaE,SAAkB9C,EAAU1F,GACpB0F,KAAYC,KAAKT,MAIvBS,KAAKC,SAAL,eAAiBF,EAAW1F,IAH1B6F,MAAM,6BAAD,OAA8BH,MAfzC,0BAuBE,SAAa+C,GACX,IAAMxF,EAAe9B,EAAiBG,QAAQrB,KACxCiD,EAAeyC,KAAKT,MAAMhC,aAC1BI,EAAgBpB,EAAkBC,SAASlC,KAE3CkD,EAAiBK,KAAKkB,IAAI+D,EAAQ9C,KAAKT,MAAM/B,gBAC7CC,EAAwBI,KAAKC,IACjC,EACAD,KAAKkB,IAAI+D,EAAStF,EAAgBwC,KAAKT,MAAM9B,wBAEzCC,EAAuBG,KAAKC,IAChC,EACAD,KAAKkB,IACH+D,EAAStF,EAAiBC,EAC1BuC,KAAKT,MAAM7B,uBAITM,EAAYD,EAChBT,EACAC,EACAI,EACA,GAGIoF,EAAgBlF,KAAKC,IAAI,EAAGN,EAAiBQ,GA+BnD,MAAO,CACL,qBA9BgBE,EAChBZ,EACAC,EACAwF,EACAtF,EACAC,GA0BA,kBFkMC,SAAoCF,GAEzC,MAA0B,KADDK,KAAKkB,IAAIvB,EAAgB,OE3NtBwF,CAA2BxF,GAyBnDyF,SAxBkBjE,EAAqBzB,EAAcC,GAyBrD0F,KAxB8B1E,EAC9BlB,EACAC,EACAC,EACAC,EACAC,GAoBAyF,KAlB6BhE,EAC7B5B,EACAC,EACAC,EAAwBC,GAgBxB,mBAbqBQ,EACrB1C,EAAiBI,WAAWtB,KAC5BiD,EACAwF,EACAtF,EACAC,MA7EN,+BAyFE,WACE,IAAM0F,EAAapD,KAAK2C,SAASU,QAAQC,WAAW,MAE9CT,EAAQ,IAAId,IAAMqB,EAAY,CAClCG,QAAS,CACPC,YAAa,CACXC,KAAM,QACNC,WAAW,GAEbC,OAAQ,CACN,SAAU,CACRhJ,KAAM,SACNiJ,SAAU,OACV7E,IAAK,IACLjB,IAAK,MACL+F,MAAO,CACLC,SAAS,EACTC,KAAM,YAERC,SAAS,GAEX,SAAU,CACRrJ,KAAM,SACNkJ,MAAO,CACLC,SAAS,EACTC,KAAM,UAERC,SAAS,IAGbC,QAAS,CACPJ,MAAO,CACLC,SAAS,EACTC,KAAM,wCAMd/D,KAAKC,SAAS,CAAE4C,MAAOA,MAhI3B,gCAmIE,WAAsB,IAAD,OACbqB,EACJC,OAAOnE,KAAKT,MAAM/B,gBAClB2G,OAAOnE,KAAKT,MAAM9B,uBAClB0G,OAAOnE,KAAKT,MAAM7B,sBACd0G,EAAWvG,KAAKC,IAAI,EAAGD,KAAKwG,KAAKH,EAAc,MAC/CI,EAASC,MAAMC,KACnB,CAAEC,OAAQ5G,KAAKwG,KAAKH,EAAcE,KAClC,SAACM,EAAGC,GAAJ,OAAUA,EAAIP,KAIVQ,EAAuBN,EAAOnK,KAClC,SAACwK,EAAGE,GAAJ,OACoBpJ,OAAOyF,OAAO,EAAKb,aAAasE,IAHTG,QAAO,SAACH,EAAGI,GAAJ,OAAUJ,EAAII,IAAG,GAGRT,EAAOO,MAE9DG,EAAW,GACjBA,EAASlE,KAAK,CACZnG,KAAM,OACNH,MAAO,qBACPyK,QAAS,SACTC,QAAS,SACTC,KAAMP,IAGR,IAzBmB,EAyBbQ,EAAS,CACb,qBAAsB,cACtB,kBAAmB,gBACnBnC,SAAU,cACVC,KAAM,aACNC,KAAM,cACN,mBAAoB,gBAElBkC,OAAgBC,EAjCD,cAkCMhB,EAAOiB,WAlCb,IAkCnB,2BAA2C,CAEzC,IAF0C,IAAD,yBAA/BV,EAA+B,KAA5BrK,EAA4B,KACnCgL,EAAexF,KAAKK,aAAa7F,GADE,uCAE7BF,EAF6B,KAEvBD,EAFuB,KAGnCoL,EAAeT,EAASU,WAC1B,SAACC,GAAD,OAAaA,EAAQnL,QAAUF,MAEX,IAAlBmL,IACFT,EAASlE,KAAK,CACZnG,KAAM,MACNH,MAAOF,EACPsL,gBAAgB,QAAD,OAAUR,EAAO9K,GAAjB,UACfuL,YAAY,QAAD,OAAUT,EAAO9K,GAAjB,QACXwL,YAAa,EACbb,QAAS,SACTC,QAAS,SACTC,KAAM,GACNnB,SAAS,IAEXyB,EAAeT,EAASP,OAAS,GAGnCO,EAASS,GAAcN,KAAKN,GAC1BxK,GAASgL,EAAgBA,EAAc/K,GAAQ,GACjD0K,EAASS,GAAcN,KAAKN,IAAMT,GArBpC,MAA4B3I,OAAO8J,QAAQC,GAA3C,eAA2D,IAuB3DH,EAAgBG,GA3DC,8BA6DnBxF,KAAKT,MAAMsD,MAAMsC,KAAKb,OAASA,EAC/BtE,KAAKT,MAAMsD,MAAMsC,KAAKH,SAAWA,EACjChF,KAAKT,MAAMsD,MAAMkD,OAAO,YAlM5B,oBAqME,WAAU,IAAD,OACP,OACE,sBAAK/E,UAAU,iBAAf,UACE,cAAChH,EAAD,CACEa,SAAU,SAACI,GAAD,OACR,EAAKgG,kBAAkB,eAAgBhG,EAAME,OAAOd,QAEtDG,MAAM,gBACNN,cAAeuB,OAAOyF,OAAOrF,KAE/B,cAACf,EAAD,CACEN,MAAM,kBACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,iBAAkBE,MAG7C,cAACrG,EAAD,CACEN,MAAM,2BACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,wBAAyBE,MAGpD,cAACrG,EAAD,CACEN,MAAM,0BACNC,QAAS,SAAC0G,GAAD,OACP,EAAKF,kBAAkB,uBAAwBE,MAGnD,wBAAQ6E,GAAG,UAAUC,IAAKjG,KAAK2C,kBAjOvC,GAA8Bd,IAAMC,WC1BpC,SAASoE,EAAUvB,GACjB,OAAOR,OAAOgC,WAAWxB,GAAGvD,QAAQ,GAG/B,SAASgF,EAAgBnM,GAAQ,IAAD,EACSc,mBAAS,GADlB,mBAC9BsL,EAD8B,KACbC,EADa,OAEuBvL,mBAAS,GAFhC,mBAE9BwL,EAF8B,KAENC,EAFM,OAGqBzL,mBAAS,GAH9B,mBAG9B0L,EAH8B,KAGPC,EAHO,OAIS3L,mBAAS,GAJlB,mBAI9B4L,EAJ8B,KAIbC,EAJa,OAKuB7L,mBAAS,GALhC,mBAK9B8L,EAL8B,KAKNC,EALM,OAMqB/L,mBAAS,GAN9B,mBAM9BgM,EAN8B,KAMPC,EANO,OAObjM,mBAAS,IAPI,mBAO9BkM,EAP8B,KAOxBC,EAPwB,OAQbnM,mBAAS,IARI,mBAQ9BoM,EAR8B,KAQxBC,EARwB,OASDrM,mBAAS,IATR,mBAS9BsM,EAT8B,KASlBC,EATkB,OAUKvM,mBAAS,IAVd,mBAU9BwM,EAV8B,KAUfC,EAVe,KAYrCC,qBAAU,WACRP,EACE7G,GACExE,EAAiBC,OAAOxB,KACxB+L,EACAE,EACAE,MAGH,CAACJ,EAAiBE,EAAwBE,IAC7CgB,qBAAU,WACRL,EACE/G,GACExE,EAAiBC,OAAOxB,KACxBqM,EACAE,EACAE,MAGH,CAACJ,EAAiBE,EAAwBE,IAC7CU,qBAAU,WACRH,EACEjH,GACExE,EAAiBE,uBAAuBzB,KACxC+L,EAAkBM,EAClBJ,EAAyBM,EACzBJ,EAAwBM,MAG3B,CACDV,EACAE,EACAE,EACAE,EACAE,EACAE,IAEFU,qBAAU,WACRD,EAAiB,CACf,qBAAsBtB,EACpBmB,EAAW,sBACTJ,EAAK,sBACLE,EAAK,uBAETlE,SAAUiD,EACRmB,EAAU,SAAeJ,EAAI,SAAeE,EAAI,UAElDjE,KAAMgD,EAAUmB,EAAU,KAAWJ,EAAI,KAAWE,EAAI,MACxDhE,KAAM+C,EAAUmB,EAAU,KAAWJ,EAAI,KAAWE,EAAI,MACxD,mBAAoBjB,EAClBmB,EAAW,oBACTJ,EAAK,oBACLE,EAAK,qBAET,YAAajB,EACXmB,EAAW,aAAeJ,EAAK,aAAeE,EAAK,kBAGtD,CAACE,EAAYJ,EAAME,IAEtB,IAAM9G,GAAe,SACnB9C,EACAC,EACAC,EACAC,GAEA,IAAMJ,EAAe9B,EAAiBG,QAAQrB,KAGxC0D,EAAYD,EAChBT,EACAC,EAJoBhB,EAAkBC,SAASlC,KAM/C,GAGIyI,EAAgBlF,KAAKC,IAAI,EAAGN,EAAiBQ,GAE7C0J,EAAYxJ,EAChBZ,EACAC,EACAwF,EACAtF,EACAC,GAEIiK,EAAc3I,EAAqBzB,EAAcC,GACjDmB,EAA0BH,EAC9BlB,EACAC,EACAC,EACAC,EACAC,GAEIkK,EAAyBzI,EAC7B5B,EACAC,EACAC,EAAwBC,GAGpBmK,EAAiB3J,EACrB1C,EAAiBI,WAAWtB,KAC5BiD,EACAwF,EACAtF,EACAC,GAEF,MAAO,CACL,qBAAsBwI,EAAUwB,GAChCzE,SAAUiD,EAAUyB,GACpBzE,KAAMgD,EAAUvH,GAChBwE,KAAM+C,EAAU0B,GAChB,mBAAoB1B,EAAU2B,GAC9B,YAAa3B,EACXwB,EACEC,EACAhJ,EACAiJ,EACAC,KAKR,OACE,sBAAK7G,UAAU,iBAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,qBAEE,cAAClG,EAAD,CACEN,MAAM,kBACNC,QAAS,SAAC0G,GAAD,OAAemF,EAAmBH,WAAWhF,GAAa,SAErE,cAACrG,EAAD,CACEN,MAAM,2BACNC,QAAS,SAAC0G,GAAD,OACPqF,EAA0BL,WAAWhF,GAAa,SAGtD,cAACrG,EAAD,CACEN,MAAM,0BACNC,QAAS,SAAC0G,GAAD,OACPuF,EAAyBP,WAAWhF,GAAa,YAIvD,sBAAKH,UAAU,WAAf,qBAEE,cAAClG,EAAD,CACEN,MAAM,kBACNC,QAAS,SAAC0G,GAAD,OAAeyF,EAAmBT,WAAWhF,GAAa,SAErE,cAACrG,EAAD,CACEN,MAAM,2BACNC,QAAS,SAAC0G,GAAD,OACP2F,EAA0BX,WAAWhF,GAAa,SAGtD,cAACrG,EAAD,CACEN,MAAM,0BACNC,QAAS,SAAC0G,GAAD,OACP6F,EAAyBb,WAAWhF,GAAa,eAKzD,sBAAKH,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,2BAEGvF,OAAO8J,QAAQ0B,GAAM9M,KAAI,mCAAE2N,EAAF,KAAOzN,EAAP,YACxB,gCACGyN,EADH,KACUzN,WAId,sBAAK2G,UAAU,WAAf,2BAEGvF,OAAO8J,QAAQ4B,GAAMhN,KAAI,mCAAE2N,EAAF,KAAOzN,EAAP,YACxB,gCACGyN,EADH,KACUzN,cAKhB,sBAAK2G,UAAU,WAAf,0BAEGvF,OAAO8J,QAAQ8B,GAAYlN,KAAI,mCAAE2N,EAAF,KAAOzN,EAAP,YAC9B,gCACGyN,EADH,KACUzN,WAId,sBAAK2G,UAAU,WAAf,2BAEGvF,OAAO8J,QAAQgC,GAAepN,KAAI,mCAAE2N,EAAF,KAAOzN,EAAP,YACjC,gCACGyN,EADH,KACUzN,c,ICpLL0N,E,4JAtCb,WACE,OACE,cAAC,IAAD,UACE,sBAAK/G,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,8BACE,+BACE,6BACE,cAAC,IAAD,CAAMgH,GAAG,4BAAT,+BAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,sBAAT,yBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,6BAAT,uCAKR,qBAAKhH,UAAU,OAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiH,KAAK,4BAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,sBAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,6BAAZ,SACE,cAAC7B,EAAD,oB,GA7BEvE,IAAMC,WCFxBoG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.623e8fc0.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nexport function LabeledSelect(props) {\n  const selectOptions = props.selectOptions.map((selectOption) => (\n    <option value={selectOption.name}>{selectOption.readable}</option>\n  ));\n\n  return (\n    <div>\n      <label>{props.label}: </label>\n      <select onInput={props.onInput}>{selectOptions}</select>\n    </div>\n  );\n}\n\nexport function LabeledCheckbox(props) {\n  return (\n    <div>\n      <input\n        type=\"checkbox\"\n        checked={props.checked}\n        onChange={props.onChange}\n      ></input>\n      <label>{props.label}</label>\n    </div>\n  );\n}\n\nexport function LabeledTextBox(props) {\n  const [value, setValue] = useState(\"\");\n\n  const onInput = (event) => {\n    let targetValue = event.target.value;\n    if (targetValue.match(/[^\\d.-]/)) {\n      targetValue = targetValue.replace(/[^\\d.-]/g, \"\");\n    }\n    setValue(targetValue);\n    if (props.onInput) {\n      props.onInput(targetValue);\n    }\n  };\n\n  return (\n    <div>\n      <label>{props.label + \": \"}</label>\n      <input\n        type=\"text\"\n        onInput={onInput}\n        disabled={props.disabled}\n        value={value}\n      ></input>\n    </div>\n  );\n}\n\nexport function LabeledSpan(props) {\n  return (\n    <div>\n      <label>{props.label + \": \"}</label>\n      <span>{props.value}</span>\n    </div>\n  );\n}\n","export const JurisdictionEnum = Object.freeze({\n  FEDERAL: { name: \"federal\", readable: \"Federal\" },\n  CALIFORNIA: { name: \"california\", readable: \"CA\" },\n});\n\nexport const FilingStatusEnum = Object.freeze({\n  SINGLE: { name: \"single\", readable: \"Single\" },\n  MARRIED_FILING_JOINTLY: {\n    name: \"married-filing-jointly\",\n    readable: \"Married Filing Jointly\",\n  },\n  MARRIED_FILING_SEPARATELY: {\n    name: \"married-filing-separately\",\n    readable: \"Married Filing Separately\",\n  },\n  HEAD_OF_HOUSEHOLD: {\n    name: \"head-of-household\",\n    readable: \"Head of Household\",\n  },\n});\n\nexport const TimePeriodEnum = Object.freeze({\n  FIRST: { name: 0, readable: \"1/1 - 3/31\" },\n  SECOND: { name: 1, readable: \"1/1 - 5/31\" },\n  THIRD: { name: 2, readable: \"1/1 - 8/31\" },\n  FOURTH: { name: 3, readable: \"1/1 - 12/31\" },\n});\n\nexport const DeductionTypeEnum = Object.freeze({\n  STANDARD: { name: \"standard\", readable: \"Standard\" },\n  ITEMIZED: { name: \"itemized\", readable: \"Itemized\" },\n});\n","import {\n  FilingStatusEnum,\n  DeductionTypeEnum,\n  JurisdictionEnum,\n} from \"./constants.js\";\n\nconst STANDARD_DEDUCTION_AMOUNTS = {\n  [JurisdictionEnum.FEDERAL.name]: {\n    [FilingStatusEnum.SINGLE.name]: 12950,\n    [FilingStatusEnum.MARRIED_FILING_JOINTLY.name]: 25900,\n    [FilingStatusEnum.MARRIED_FILING_SEPARATELY.name]: 12950,\n    [FilingStatusEnum.HEAD_OF_HOUSEHOLD.name]: 19400,\n  },\n  [JurisdictionEnum.CALIFORNIA.name]: {\n    [FilingStatusEnum.SINGLE.name]: 4803,\n    [FilingStatusEnum.MARRIED_FILING_JOINTLY.name]: 9606,\n    [FilingStatusEnum.MARRIED_FILING_SEPARATELY.name]: 4803,\n    [FilingStatusEnum.HEAD_OF_HOUSEHOLD.name]: 9606,\n  },\n};\n\nconst JURISDICTIONS_THAT_TREAT_LONG_TERM_CAPITAL_GAINS_AS_ORDINARY_INCOME = new Set(\n  [JurisdictionEnum.CALIFORNIA.name]\n);\n\nconst FEDERAL_INCOME_TAX_BRACKETS = {\n  [FilingStatusEnum.SINGLE.name]: [\n    { bracketStart: 523600, rate: 0.37 },\n    { bracketStart: 209425, rate: 0.35 },\n    { bracketStart: 164925, rate: 0.32 },\n    { bracketStart: 86375, rate: 0.24 },\n    { bracketStart: 40525, rate: 0.22 },\n    { bracketStart: 9950, rate: 0.12 },\n    { bracketStart: 0, rate: 0.1 },\n  ],\n  [FilingStatusEnum.MARRIED_FILING_JOINTLY.name]: [\n    { bracketStart: 628300, rate: 0.37 },\n    { bracketStart: 418850, rate: 0.35 },\n    { bracketStart: 329850, rate: 0.32 },\n    { bracketStart: 172750, rate: 0.24 },\n    { bracketStart: 81050, rate: 0.22 },\n    { bracketStart: 19900, rate: 0.12 },\n    { bracketStart: 0, rate: 0.1 },\n  ],\n  [FilingStatusEnum.MARRIED_FILING_SEPARATELY.name]: [\n    { bracketStart: 314150, rate: 0.37 },\n    { bracketStart: 209425, rate: 0.35 },\n    { bracketStart: 164925, rate: 0.32 },\n    { bracketStart: 86375, rate: 0.24 },\n    { bracketStart: 40525, rate: 0.22 },\n    { bracketStart: 9950, rate: 0.12 },\n    { bracketStart: 0, rate: 0.1 },\n  ],\n  [FilingStatusEnum.HEAD_OF_HOUSEHOLD.name]: [\n    { bracketStart: 523600, rate: 0.37 },\n    { bracketStart: 209400, rate: 0.35 },\n    { bracketStart: 164900, rate: 0.32 },\n    { bracketStart: 86350, rate: 0.24 },\n    { bracketStart: 54200, rate: 0.22 },\n    { bracketStart: 14200, rate: 0.12 },\n    { bracketStart: 0, rate: 0.1 },\n  ],\n};\n\nconst CALIFORNIA_INCOME_TAX_BRACKETS = {\n  [FilingStatusEnum.SINGLE.name]: [\n    { bracketStart: 1000000, rate: 0.133 },\n    { bracketStart: 625369, rate: 0.123 },\n    { bracketStart: 375221, rate: 0.113 },\n    { bracketStart: 312686, rate: 0.103 },\n    { bracketStart: 61214, rate: 0.093 },\n    { bracketStart: 48435, rate: 0.08 },\n    { bracketStart: 34892, rate: 0.06 },\n    { bracketStart: 22107, rate: 0.04 },\n    { bracketStart: 9325, rate: 0.02 },\n    { bracketStart: 0, rate: 0.01 },\n  ],\n  [FilingStatusEnum.MARRIED_FILING_JOINTLY.name]: [\n    { bracketStart: 1250739, rate: 0.133 },\n    { bracketStart: 1000000, rate: 0.123 },\n    { bracketStart: 750442, rate: 0.113 },\n    { bracketStart: 625372, rate: 0.103 },\n    { bracketStart: 122428, rate: 0.093 },\n    { bracketStart: 96870, rate: 0.08 },\n    { bracketStart: 69784, rate: 0.06 },\n    { bracketStart: 44214, rate: 0.04 },\n    { bracketStart: 18650, rate: 0.02 },\n    { bracketStart: 0, rate: 0.01 },\n  ],\n  [FilingStatusEnum.MARRIED_FILING_SEPARATELY.name]: [\n    { bracketStart: 1000000, rate: 0.133 },\n    { bracketStart: 625369, rate: 0.123 },\n    { bracketStart: 375221, rate: 0.113 },\n    { bracketStart: 312686, rate: 0.103 },\n    { bracketStart: 61214, rate: 0.093 },\n    { bracketStart: 48435, rate: 0.08 },\n    { bracketStart: 34892, rate: 0.06 },\n    { bracketStart: 22107, rate: 0.04 },\n    { bracketStart: 9325, rate: 0.02 },\n    { bracketStart: 0, rate: 0.01 },\n  ],\n  [FilingStatusEnum.HEAD_OF_HOUSEHOLD.name]: [\n    { bracketStart: 1000000, rate: 0.133 },\n    { bracketStart: 850503, rate: 0.123 },\n    { bracketStart: 510303, rate: 0.113 },\n    { bracketStart: 425251, rate: 0.103 },\n    { bracketStart: 83324, rate: 0.093 },\n    { bracketStart: 70542, rate: 0.08 },\n    { bracketStart: 56999, rate: 0.06 },\n    { bracketStart: 44217, rate: 0.04 },\n    { bracketStart: 18663, rate: 0.02 },\n    { bracketStart: 0, rate: 0.01 },\n  ],\n};\n\nconst JURISDICTION_TO_INCOME_BRACKETS = {\n  [JurisdictionEnum.FEDERAL.name]: FEDERAL_INCOME_TAX_BRACKETS,\n  [JurisdictionEnum.CALIFORNIA.name]: CALIFORNIA_INCOME_TAX_BRACKETS,\n};\n\nconst FILING_STATUS_TO_LONG_TERM_BRACKETS = {\n  [FilingStatusEnum.SINGLE.name]: [\n    { bracketEnd: 41675, rate: 0 },\n    { bracketEnd: 459750, rate: 0.15 },\n    { bracketEnd: Infinity, rate: 0.2 },\n  ],\n  [FilingStatusEnum.MARRIED_FILING_JOINTLY.name]: [\n    { bracketEnd: 83350, rate: 0 },\n    { bracketEnd: 517200, rate: 0.15 },\n    { bracketEnd: Infinity, rate: 0.2 },\n  ],\n  [FilingStatusEnum.MARRIED_FILING_SEPARATELY.name]: [\n    { bracketEnd: 41675, rate: 0 },\n    { bracketEnd: 258600, rate: 0.15 },\n    { bracketEnd: Infinity, rate: 0.2 },\n  ],\n  [FilingStatusEnum.HEAD_OF_HOUSEHOLD.name]: [\n    { bracketEnd: 55800, rate: 0 },\n    { bracketEnd: 488500, rate: 0.15 },\n    { bracketEnd: Infinity, rate: 0.2 },\n  ],\n};\n\nexport function calculateTax(\n  jurisdiction,\n  filingStatus,\n  ordinaryIncome,\n  shortTermCapitalGains,\n  longTermCapitalGains,\n  deductionType,\n  itemizedDeduction,\n  taxCredits\n) {\n  [ordinaryIncome, shortTermCapitalGains, longTermCapitalGains] = adjustIncomes(\n    jurisdiction,\n    filingStatus,\n    ordinaryIncome,\n    shortTermCapitalGains,\n    longTermCapitalGains,\n    deductionType,\n    itemizedDeduction\n  );\n\n  let totalTax = calculateIncomeTax(\n    jurisdiction,\n    filingStatus,\n    ordinaryIncome,\n    shortTermCapitalGains,\n    longTermCapitalGains\n  );\n  totalTax += calculateLongTermCapitalGainsTax(\n    jurisdiction,\n    filingStatus,\n    ordinaryIncome,\n    shortTermCapitalGains,\n    longTermCapitalGains\n  );\n\n  if (jurisdiction === JurisdictionEnum.FEDERAL.name) {\n    totalTax += calculateAdditionalMedicareTax(filingStatus, ordinaryIncome);\n    totalTax += calculateNetInvestmentIncomeTax(\n      filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains + longTermCapitalGains\n    );\n  }\n\n  totalTax -= taxCredits;\n\n  totalTax = Math.max(0, totalTax);\n\n  return totalTax;\n}\n\nexport function adjustIncomes(\n  jurisdiction,\n  filingStatus,\n  ordinaryIncome,\n  shortTermCapitalGains,\n  longTermCapitalGains,\n  deductionType,\n  itemizedDeduction\n) {\n  if (longTermCapitalGains < 0) {\n    shortTermCapitalGains += longTermCapitalGains;\n    longTermCapitalGains = 0;\n  }\n  if (shortTermCapitalGains < 0) {\n    ordinaryIncome += Math.max(shortTermCapitalGains, -3000);\n    shortTermCapitalGains = 0;\n  }\n\n  let deduction = calculateDeduction(\n    jurisdiction,\n    filingStatus,\n    deductionType,\n    itemizedDeduction\n  );\n\n  ordinaryIncome -= deduction;\n  if (ordinaryIncome < 0) {\n    shortTermCapitalGains += ordinaryIncome;\n  }\n  if (shortTermCapitalGains < 0) {\n    longTermCapitalGains += shortTermCapitalGains;\n  }\n  ordinaryIncome = Math.max(0, ordinaryIncome);\n  shortTermCapitalGains = Math.max(0, shortTermCapitalGains);\n  longTermCapitalGains = Math.max(0, longTermCapitalGains);\n\n  return [ordinaryIncome, shortTermCapitalGains, longTermCapitalGains];\n}\n\nexport function calculateDeduction(\n  jurisdiction,\n  filingStatus,\n  deductionType,\n  itemizedDeduction\n) {\n  let deduction = 0;\n  if (deductionType === DeductionTypeEnum.STANDARD.name) {\n    deduction = _getStandardDeduction(jurisdiction, filingStatus);\n  } else if (deductionType === DeductionTypeEnum.ITEMIZED.name) {\n    deduction = itemizedDeduction;\n  }\n\n  return deduction;\n}\n\nfunction _getStandardDeduction(jurisdiction, filingStatus) {\n  return STANDARD_DEDUCTION_AMOUNTS[jurisdiction][filingStatus];\n}\n\nexport function calculateIncomeTax(\n  jurisdiction,\n  filingStatus,\n  ordinaryIncome,\n  shortTermCapitalGains,\n  longTermCapitalGains\n) {\n  const brackets = JURISDICTION_TO_INCOME_BRACKETS[jurisdiction][filingStatus];\n  let applicableIncome = ordinaryIncome + shortTermCapitalGains;\n  if (\n    JURISDICTIONS_THAT_TREAT_LONG_TERM_CAPITAL_GAINS_AS_ORDINARY_INCOME.has(\n      jurisdiction\n    )\n  ) {\n    applicableIncome += longTermCapitalGains;\n  }\n\n  let totalTax = 0;\n  for (const bracket of brackets) {\n    if (applicableIncome < bracket.bracketStart) {\n      continue;\n    }\n    totalTax += (applicableIncome - bracket.bracketStart) * bracket.rate;\n    applicableIncome = bracket.bracketStart;\n  }\n\n  return totalTax;\n}\n\nexport function calculateLongTermCapitalGainsTax(\n  jurisdiction,\n  filingStatus,\n  ordinaryIncome,\n  shortTermCapitalGains,\n  longTermCapitalGains\n) {\n  if (\n    JURISDICTIONS_THAT_TREAT_LONG_TERM_CAPITAL_GAINS_AS_ORDINARY_INCOME.has(\n      jurisdiction\n    )\n  ) {\n    return 0;\n  }\n  const taxBrackets = FILING_STATUS_TO_LONG_TERM_BRACKETS[filingStatus];\n  let accountedIncome = ordinaryIncome + shortTermCapitalGains;\n  let longTermCapitalGainsTax = 0;\n  let unaccountedLongTermCapitalGains = longTermCapitalGains;\n  for (const taxBracket of taxBrackets) {\n    if (taxBracket.bracketEnd < ordinaryIncome + shortTermCapitalGains) {\n      continue;\n    }\n\n    const gainsInBracket = Math.min(\n      unaccountedLongTermCapitalGains,\n      taxBracket.bracketEnd - accountedIncome\n    );\n\n    longTermCapitalGainsTax += gainsInBracket * taxBracket.rate;\n    unaccountedLongTermCapitalGains -= gainsInBracket;\n    accountedIncome += gainsInBracket;\n  }\n  return longTermCapitalGainsTax;\n}\n\nexport function calculateSocialSecurityTax(ordinaryIncome) {\n  const applicableIncome = Math.min(ordinaryIncome, 147000);\n  return applicableIncome * 0.062;\n}\n\nexport function calculateMedicareTax(filingStatus, ordinaryIncome) {\n  const additionalTax = calculateAdditionalMedicareTax(\n    filingStatus,\n    ordinaryIncome\n  );\n  return ordinaryIncome * 0.0145 + additionalTax;\n}\n\nexport function calculateAdditionalMedicareTax(filingStatus, ordinaryIncome) {\n  const additionalTaxThreshold =\n    filingStatus === FilingStatusEnum.MARRIED_FILING_JOINTLY.name\n      ? 250000\n      : 200000;\n  const additionalTaxApplicableIncome = Math.max(\n    0,\n    ordinaryIncome - additionalTaxThreshold\n  );\n  return additionalTaxApplicableIncome * 0.009;\n}\n\nexport function calculateNetInvestmentIncomeTax(\n  filingStatus,\n  ordinaryIncome,\n  capitalGains\n) {\n  const thresholds = {\n    [FilingStatusEnum.SINGLE.name]: 200000,\n    [FilingStatusEnum.MARRIED_FILING_JOINTLY.name]: 250000,\n    [FilingStatusEnum.MARRIED_FILING_SEPARATELY.name]: 125000,\n    [FilingStatusEnum.HEAD_OF_HOUSEHOLD.name]: 200000,\n  };\n  const threshold = thresholds[filingStatus];\n  const applicableIncome = Math.max(\n    0,\n    Math.min(ordinaryIncome + capitalGains - threshold, capitalGains)\n  );\n  return applicableIncome * 0.038;\n}\n","import React from \"react\";\nimport {\n  LabeledCheckbox,\n  LabeledSelect,\n  LabeledSpan,\n  LabeledTextBox,\n} from \"./Components.jsx\";\nimport {\n  JurisdictionEnum,\n  FilingStatusEnum,\n  TimePeriodEnum,\n  DeductionTypeEnum,\n} from \"../constants.js\";\nimport {\n  adjustIncomes,\n  calculateTax,\n  calculateDeduction,\n  calculateLongTermCapitalGainsTax,\n  calculateAdditionalMedicareTax,\n  calculateNetInvestmentIncomeTax,\n  calculateIncomeTax,\n} from \"../taxFunctions.js\";\n\nexport class EstimatedTaxes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      jurisdiction: JurisdictionEnum.FEDERAL.name,\n      filingStatus: FilingStatusEnum.SINGLE.name,\n      timePeriod: TimePeriodEnum.FIRST.name,\n\n      ordinaryIncome: 0,\n      shortTermCapitalGains: 0,\n      longTermCapitalGains: 0,\n      deductionType: DeductionTypeEnum.STANDARD.name,\n      itemizedDeductions: 0,\n      taxCreditsAnnual: 0,\n\n      includePriorYearCalculation: false,\n      priorYearAgi: 0,\n      priorYearTax: 0,\n\n      withholding: 0,\n    };\n  }\n\n  handleStateChange(stateVar, value) {\n    if (!(stateVar in this.state)) {\n      alert(`incorrect state variable: ${stateVar}`);\n      return;\n    }\n    this.setState({ [stateVar]: value });\n  }\n\n  _calculateObligationBasedOnPriorYear() {\n    const threshold =\n      this.state.filingStatus !==\n      FilingStatusEnum.MARRIED_FILING_SEPARATELY.name\n        ? 150000\n        : 75000;\n    const multiplier = this.state.priorYearAgi <= threshold ? 1 : 1.1;\n    return this.state.priorYearTax * multiplier;\n  }\n\n  _calculateAnnualizedIncome() {\n    const multiplier = [4, 2.4, 1.5, 1][this.state.timePeriod];\n    const ordinaryIncome = multiplier * this.state.ordinaryIncome;\n    const shortTermCapitalGains = multiplier * this.state.shortTermCapitalGains;\n    const longTermCapitalGains = multiplier * this.state.longTermCapitalGains;\n\n    return (\n      ordinaryIncome +\n      Math.max(shortTermCapitalGains + longTermCapitalGains, -3000)\n    );\n  }\n\n  _calculateTotalTaxBasedOnAnnualizedIncome() {\n    const multiplier = [4, 2.4, 1.5, 1][this.state.timePeriod];\n    const ordinaryIncome = multiplier * this.state.ordinaryIncome;\n    const shortTermCapitalGains = multiplier * this.state.shortTermCapitalGains;\n    const longTermCapitalGains = multiplier * this.state.longTermCapitalGains;\n\n    return calculateTax(\n      this.state.jurisdiction,\n      this.state.filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains,\n      this.state.deductionType,\n      multiplier * this.state.itemizedDeductions,\n      this.state.taxCreditsAnnual\n    );\n  }\n\n  _calculateAnnualizedAdjustedIncomes() {\n    const multiplier = [4, 2.4, 1.5, 1][this.state.timePeriod];\n    let ordinaryIncome = multiplier * this.state.ordinaryIncome;\n    let shortTermCapitalGains = multiplier * this.state.shortTermCapitalGains;\n    let longTermCapitalGains = multiplier * this.state.longTermCapitalGains;\n    let itemizedDeductions = multiplier * this.state.itemizedDeductions;\n\n    return adjustIncomes(\n      this.state.jurisdiction,\n      this.state.filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains,\n      this.state.deductionType,\n      itemizedDeductions\n    );\n  }\n\n  _calculateDeduction() {\n    const multiplier = [4, 2.4, 1.5, 1][this.state.timePeriod];\n    const itemizedDeductions = multiplier * this.state.itemizedDeductions;\n    return calculateDeduction(\n      this.state.jurisdiction,\n      this.state.filingStatus,\n      this.state.deductionType,\n      itemizedDeductions\n    );\n  }\n\n  _calculateIncomeTax() {\n    const [\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains,\n    ] = this._calculateAnnualizedAdjustedIncomes();\n\n    return calculateIncomeTax(\n      this.state.jurisdiction,\n      this.state.filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n  }\n\n  _calculateLongTermCapitalGainsTax() {\n    const [\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains,\n    ] = this._calculateAnnualizedAdjustedIncomes();\n\n    return calculateLongTermCapitalGainsTax(\n      this.state.jurisdiction,\n      this.state.filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n  }\n\n  _calculateAdditionalMedicareTax() {\n    const [ordinaryIncome] = this._calculateAnnualizedAdjustedIncomes();\n\n    return calculateAdditionalMedicareTax(\n      this.state.filingStatus,\n      ordinaryIncome\n    );\n  }\n\n  _calculateNetInvestmentIncomeTax() {\n    const [\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains,\n    ] = this._calculateAnnualizedAdjustedIncomes();\n\n    return calculateNetInvestmentIncomeTax(\n      this.state.filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains + longTermCapitalGains\n    );\n  }\n\n  _calculateObligationBasedOnAnnualizedIncome() {\n    return 0.9 * this._calculateTotalTaxBasedOnAnnualizedIncome();\n  }\n\n  _calculateObligationDuringTimePeriod() {\n    let multipliers = [0.25, 0.5, 0.75, 1];\n    if (this.state.jurisdiction === JurisdictionEnum.CALIFORNIA.name) {\n      multipliers = [0.3, 0.7, 0.7, 1];\n    }\n    const rate = multipliers[this.state.timePeriod];\n    const obligation = this._calculateAnnualizedObligation();\n    return obligation * rate;\n  }\n\n  _calculateTaxesOwed() {\n    return this._calculateObligationDuringTimePeriod() - this.state.withholding;\n  }\n\n  _calculateAnnualizedObligation() {\n    let obligations = [this._calculateObligationBasedOnAnnualizedIncome()];\n    if (this.state.includePriorYearCalculation) {\n      if (\n        !(\n          this.state.jurisdiction === JurisdictionEnum.CALIFORNIA.name &&\n          this._calculateAnnualizedIncome() > 1000000\n        )\n      ) {\n        obligations.push(this._calculateObligationBasedOnPriorYear());\n      }\n    }\n    return Math.min(...obligations);\n  }\n\n  _calculateAnnualizedEffectiveTaxRate() {\n    const totalTax = this._calculateTotalTaxBasedOnAnnualizedIncome();\n    const income = this._calculateAnnualizedIncome();\n    return totalTax / income || 0;\n  }\n\n  render() {\n    return (\n      <div className=\"App App-header\">\n        <div className=\"row\">\n          <div className=\"bordered\">\n            <LabeledSelect\n              onInput={(event) =>\n                this.handleStateChange(\"jurisdiction\", event.target.value)\n              }\n              label=\"Jurisdiction\"\n              selectOptions={Object.values(JurisdictionEnum)}\n            ></LabeledSelect>\n            <LabeledSelect\n              onInput={(event) =>\n                this.handleStateChange(\"filingStatus\", event.target.value)\n              }\n              label=\"Filing Status\"\n              selectOptions={Object.values(FilingStatusEnum)}\n            ></LabeledSelect>\n            <LabeledSelect\n              onInput={(event) =>\n                this.handleStateChange(\"timePeriod\", event.target.value)\n              }\n              label=\"Time Period\"\n              selectOptions={Object.values(TimePeriodEnum)}\n            ></LabeledSelect>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"column\">\n            <div className=\"row\">\n              <div className=\"bordered\">\n                <LabeledTextBox\n                  label=\"Ordinary Income\"\n                  onInput={(textValue) =>\n                    this.handleStateChange(\"ordinaryIncome\", textValue)\n                  }\n                ></LabeledTextBox>\n                <LabeledTextBox\n                  label=\"Short Term Capital Gains\"\n                  onInput={(textValue) =>\n                    this.handleStateChange(\"shortTermCapitalGains\", textValue)\n                  }\n                ></LabeledTextBox>\n                <LabeledTextBox\n                  label=\"Long Term Capital Gains\"\n                  onInput={(textValue) =>\n                    this.handleStateChange(\"longTermCapitalGains\", textValue)\n                  }\n                ></LabeledTextBox>\n                <LabeledSelect\n                  onInput={(event) =>\n                    this.handleStateChange(\"deductionType\", event.target.value)\n                  }\n                  label=\"Deduction Type\"\n                  selectOptions={Object.values(DeductionTypeEnum)}\n                ></LabeledSelect>\n                {this.state.deductionType === \"itemized\" && (\n                  <LabeledTextBox\n                    label=\"Itemized Deductions\"\n                    onInput={(textValue) =>\n                      this.handleStateChange(\"itemizedDeductions\", textValue)\n                    }\n                  ></LabeledTextBox>\n                )}\n                <LabeledTextBox\n                  label=\"Tax Credits (Annual)\"\n                  onInput={(textValue) =>\n                    this.handleStateChange(\"taxCreditsAnnual\", textValue)\n                  }\n                ></LabeledTextBox>\n              </div>\n\n              <div className=\"bordered\">\n                <LabeledSpan\n                  label=\"Annualized Income\"\n                  value={this._calculateAnnualizedIncome().toFixed(2)}\n                ></LabeledSpan>\n                <div className=\"small\">\n                  <LabeledSpan\n                    label=\"Deduction\"\n                    value={this._calculateDeduction().toFixed(2)}\n                  ></LabeledSpan>\n                </div>\n                {this.state.jurisdiction === JurisdictionEnum.FEDERAL.name && (\n                  <div className=\"small\">\n                    <LabeledSpan\n                      label=\"Income Tax\"\n                      value={this._calculateIncomeTax().toFixed(2)}\n                    ></LabeledSpan>\n                    <LabeledSpan\n                      label=\"Long Term Capital Gains Tax\"\n                      value={this._calculateLongTermCapitalGainsTax().toFixed(\n                        2\n                      )}\n                    ></LabeledSpan>\n                    <LabeledSpan\n                      label=\"Additional Medicare Tax\"\n                      value={this._calculateAdditionalMedicareTax().toFixed(2)}\n                    ></LabeledSpan>\n                    <LabeledSpan\n                      label=\"Net Investment Tax\"\n                      value={this._calculateNetInvestmentIncomeTax().toFixed(2)}\n                    ></LabeledSpan>\n                  </div>\n                )}\n                <LabeledSpan\n                  label=\"Total Tax\"\n                  value={\n                    this._calculateTotalTaxBasedOnAnnualizedIncome().toFixed(\n                      2\n                    ) +\n                    \" (\" +\n                    (this._calculateAnnualizedEffectiveTaxRate() * 100).toFixed(\n                      2\n                    ) +\n                    \"%)\"\n                  }\n                ></LabeledSpan>\n                <LabeledSpan\n                  label=\"Obligation based on annualized income\"\n                  value={this._calculateObligationBasedOnAnnualizedIncome().toFixed(\n                    2\n                  )}\n                ></LabeledSpan>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"bordered\">\n                <LabeledCheckbox\n                  label=\"Include prior year calculation\"\n                  checked={this.state.includePriorYearCalculation}\n                  onChange={(event) =>\n                    this.handleStateChange(\n                      \"includePriorYearCalculation\",\n                      event.target.checked\n                    )\n                  }\n                ></LabeledCheckbox>\n                <LabeledTextBox\n                  label=\"Prior Year AGI\"\n                  onInput={(textValue) =>\n                    this.handleStateChange(\"priorYearAgi\", textValue)\n                  }\n                  disabled={!this.state.includePriorYearCalculation}\n                ></LabeledTextBox>\n                <LabeledTextBox\n                  label=\"Prior Year Tax\"\n                  onInput={(textValue) =>\n                    this.handleStateChange(\"priorYearTax\", textValue)\n                  }\n                  disabled={!this.state.includePriorYearCalculation}\n                ></LabeledTextBox>\n              </div>\n\n              <div className=\"bordered\">\n                <LabeledSpan\n                  label=\"Obligation based on prior year\"\n                  value={this._calculateObligationBasedOnPriorYear().toFixed(2)}\n                ></LabeledSpan>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"bordered\">\n            <LabeledSpan\n              label=\"Annualized Obligation\"\n              value={this._calculateAnnualizedObligation().toFixed(2)}\n            ></LabeledSpan>\n\n            <LabeledSpan\n              label=\"Obligation in time period\"\n              value={this._calculateObligationDuringTimePeriod().toFixed(2)}\n            ></LabeledSpan>\n\n            <LabeledTextBox\n              label=\"Withholding ($)\"\n              onInput={(textValue) =>\n                this.handleStateChange(\"withholding\", textValue)\n              }\n            ></LabeledTextBox>\n\n            <LabeledSpan\n              label=\"Taxes Owed\"\n              value={this._calculateTaxesOwed().toFixed(2)}\n            ></LabeledSpan>\n          </div>\n        </div>\n        <span className=\"footer\">\n          This is not financial advice. <br></br>\n          This tool is meant to estimate the estimated payments, and is provided\n          without any guarantees. <br></br>\n          The author is not a CPA nor did any CPA review this. Please use at\n          your own risk. <br></br>\n          If you would like to inspect the calculations or make any\n          contributions, please review the source code{\" \"}\n          <a href=\"https://github.com/tomo-otsuka/brasstax\">here</a>. <br></br>\n          <br></br>\n          Privacy: This tool does not collect any sensitive data. <br></br>\n          In fact, after retrieving the initial static assets to display this\n          page, <br></br>\n          it does not communicate to a server whatsoever.\n        </span>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport {\n  Chart,\n  LineController,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarController,\n  BarElement,\n  Tooltip,\n  Title,\n} from \"chart.js\";\nimport {\n  DeductionTypeEnum,\n  FilingStatusEnum,\n  JurisdictionEnum,\n} from \"../constants\";\nimport {\n  adjustIncomes,\n  calculateDeduction,\n  calculateIncomeTax,\n  calculateLongTermCapitalGainsTax,\n  calculateMedicareTax,\n  calculateNetInvestmentIncomeTax,\n  calculateSocialSecurityTax,\n} from \"../taxFunctions\";\nimport { LabeledSelect, LabeledTextBox } from \"./Components\";\n\nChart.register(\n  LineController,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarController,\n  BarElement,\n  Tooltip,\n  Title\n);\n\nexport class TaxChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filingStatus: FilingStatusEnum.SINGLE.name,\n      ordinaryIncome: 0,\n      shortTermCapitalGains: 0,\n      longTermCapitalGains: 0,\n\n      chart: null,\n    };\n  }\n\n  handleStateChange(stateVar, value) {\n    if (!(stateVar in this.state)) {\n      alert(`incorrect state variable: ${stateVar}`);\n      return;\n    }\n    this.setState({ [stateVar]: value });\n  }\n\n  chartRef = React.createRef();\n\n  calculateTax(income) {\n    const jurisdiction = JurisdictionEnum.FEDERAL.name;\n    const filingStatus = this.state.filingStatus;\n    const deductionType = DeductionTypeEnum.STANDARD.name;\n\n    const ordinaryIncome = Math.min(income, this.state.ordinaryIncome);\n    const shortTermCapitalGains = Math.max(\n      0,\n      Math.min(income - ordinaryIncome, this.state.shortTermCapitalGains)\n    );\n    const longTermCapitalGains = Math.max(\n      0,\n      Math.min(\n        income - ordinaryIncome - shortTermCapitalGains,\n        this.state.longTermCapitalGains\n      )\n    );\n\n    const deduction = calculateDeduction(\n      jurisdiction,\n      filingStatus,\n      deductionType,\n      0\n    );\n\n    const taxableIncome = Math.max(0, ordinaryIncome - deduction);\n\n    const incomeTax = calculateIncomeTax(\n      jurisdiction,\n      filingStatus,\n      taxableIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n    const socialSecurityTax = calculateSocialSecurityTax(ordinaryIncome);\n    const medicareTax = calculateMedicareTax(filingStatus, ordinaryIncome);\n    const longTermCapitalGainsTax = calculateLongTermCapitalGainsTax(\n      jurisdiction,\n      filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n    const netInvestmentIncomeTax = calculateNetInvestmentIncomeTax(\n      filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains + longTermCapitalGains\n    );\n\n    const stateIncomeTax = calculateIncomeTax(\n      JurisdictionEnum.CALIFORNIA.name,\n      filingStatus,\n      taxableIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n    return {\n      \"Federal Income Tax\": incomeTax,\n      \"Social Security\": socialSecurityTax,\n      Medicare: medicareTax,\n      LTCG: longTermCapitalGainsTax,\n      NIIT: netInvestmentIncomeTax,\n      \"State Income Tax\": stateIncomeTax,\n    };\n  }\n\n  componentDidMount() {\n    const myChartRef = this.chartRef.current.getContext(\"2d\");\n\n    const chart = new Chart(myChartRef, {\n      options: {\n        interaction: {\n          mode: \"index\",\n          intersect: false,\n        },\n        scales: {\n          \"y-axis\": {\n            type: \"linear\",\n            position: \"left\",\n            min: \"0\",\n            max: \"0.6\",\n            title: {\n              display: true,\n              text: \"Tax Rate\",\n            },\n            stacked: true,\n          },\n          \"x-axis\": {\n            type: \"linear\",\n            title: {\n              display: true,\n              text: \"Income\",\n            },\n            stacked: true,\n          },\n        },\n        plugins: {\n          title: {\n            display: true,\n            text: \"Marginal and Effective Tax Rates\",\n          },\n        },\n      },\n    });\n\n    this.setState({ chart: chart });\n  }\n\n  componentDidUpdate() {\n    const totalIncome =\n      Number(this.state.ordinaryIncome) +\n      Number(this.state.shortTermCapitalGains) +\n      Number(this.state.longTermCapitalGains);\n    const stepSize = Math.max(1, Math.ceil(totalIncome / 100));\n    const labels = Array.from(\n      { length: Math.ceil(totalIncome / stepSize) },\n      (v, x) => x * stepSize\n    );\n\n    const calculateTotalTax = (values) => values.reduce((x, y) => x + y, 0);\n    const effectiveTaxRateData = labels.map(\n      (x, i) =>\n        calculateTotalTax(Object.values(this.calculateTax(x))) / labels[i]\n    );\n    const datasets = [];\n    datasets.push({\n      type: \"line\",\n      label: \"Effective Tax Rate\",\n      yAxisID: \"y-axis\",\n      xAxisID: \"x-axis\",\n      data: effectiveTaxRateData,\n    });\n\n    const colors = {\n      \"Federal Income Tax\": \"51, 153, 51\",\n      \"Social Security\": \"100, 242, 175\",\n      Medicare: \"255, 0, 102\",\n      LTCG: \"0, 51, 153\",\n      NIIT: \"0, 142, 175\",\n      \"State Income Tax\": \"153, 51, 153\",\n    };\n    let previousTaxes = undefined;\n    for (const [i, label] of labels.entries()) {\n      const currentTaxes = this.calculateTax(label);\n      for (const [name, value] of Object.entries(currentTaxes)) {\n        let datasetIndex = datasets.findIndex(\n          (element) => element.label === name\n        );\n        if (datasetIndex === -1) {\n          datasets.push({\n            type: \"bar\",\n            label: name,\n            backgroundColor: `rgba(${colors[name]}, 0.5)`,\n            borderColor: `rgba(${colors[name]}, 1)`,\n            borderWidth: 1,\n            yAxisID: \"y-axis\",\n            xAxisID: \"x-axis\",\n            data: [],\n            stacked: true,\n          });\n          datasetIndex = datasets.length - 1;\n        }\n\n        datasets[datasetIndex].data[i] =\n          value - (previousTaxes ? previousTaxes[name] : 0);\n        datasets[datasetIndex].data[i] /= stepSize;\n      }\n      previousTaxes = currentTaxes;\n    }\n    this.state.chart.data.labels = labels;\n    this.state.chart.data.datasets = datasets;\n    this.state.chart.update(\"active\");\n  }\n\n  render() {\n    return (\n      <div className=\"App App-header\">\n        <LabeledSelect\n          onChange={(event) =>\n            this.handleStateChange(\"filingStatus\", event.target.value)\n          }\n          label=\"Filing Status\"\n          selectOptions={Object.values(FilingStatusEnum)}\n        ></LabeledSelect>\n        <LabeledTextBox\n          label=\"Ordinary Income\"\n          onInput={(textValue) =>\n            this.handleStateChange(\"ordinaryIncome\", textValue)\n          }\n        ></LabeledTextBox>\n        <LabeledTextBox\n          label=\"Short Term Capital Gains\"\n          onInput={(textValue) =>\n            this.handleStateChange(\"shortTermCapitalGains\", textValue)\n          }\n        ></LabeledTextBox>\n        <LabeledTextBox\n          label=\"Long Term Capital Gains\"\n          onInput={(textValue) =>\n            this.handleStateChange(\"longTermCapitalGains\", textValue)\n          }\n        ></LabeledTextBox>\n        <canvas id=\"myChart\" ref={this.chartRef} />\n      </div>\n    );\n  }\n}\n","import React, { useEffect, useState } from \"react\";\n\nimport {\n  DeductionTypeEnum,\n  FilingStatusEnum,\n  JurisdictionEnum,\n} from \"../constants\";\nimport {\n  calculateDeduction,\n  calculateIncomeTax,\n  calculateLongTermCapitalGainsTax,\n  calculateMedicareTax,\n  calculateNetInvestmentIncomeTax,\n} from \"../taxFunctions\";\nimport { LabeledTextBox } from \"./Components\";\n\nfunction financial(x) {\n  return Number.parseFloat(x).toFixed(2);\n}\n\nexport function MarriagePenalty(props) {\n  const [ordinaryIncome1, setOrdinaryIncome1] = useState(0);\n  const [shortTermCapitalGains1, setShortTermCapitalGains1] = useState(0);\n  const [longTermCapitalGains1, setLongTermCapitalGains1] = useState(0);\n  const [ordinaryIncome2, setOrdinaryIncome2] = useState(0);\n  const [shortTermCapitalGains2, setShortTermCapitalGains2] = useState(0);\n  const [longTermCapitalGains2, setLongTermCapitalGains2] = useState(0);\n  const [tax1, setTax1] = useState({});\n  const [tax2, setTax2] = useState({});\n  const [taxMarried, setTaxMarried] = useState({});\n  const [taxDifference, setTaxDifference] = useState({});\n\n  useEffect(() => {\n    setTax1(\n      calculateTax(\n        FilingStatusEnum.SINGLE.name,\n        ordinaryIncome1,\n        shortTermCapitalGains1,\n        longTermCapitalGains1\n      )\n    );\n  }, [ordinaryIncome1, shortTermCapitalGains1, longTermCapitalGains1]);\n  useEffect(() => {\n    setTax2(\n      calculateTax(\n        FilingStatusEnum.SINGLE.name,\n        ordinaryIncome2,\n        shortTermCapitalGains2,\n        longTermCapitalGains2\n      )\n    );\n  }, [ordinaryIncome2, shortTermCapitalGains2, longTermCapitalGains2]);\n  useEffect(() => {\n    setTaxMarried(\n      calculateTax(\n        FilingStatusEnum.MARRIED_FILING_JOINTLY.name,\n        ordinaryIncome1 + ordinaryIncome2,\n        shortTermCapitalGains1 + shortTermCapitalGains2,\n        longTermCapitalGains1 + longTermCapitalGains2\n      )\n    );\n  }, [\n    ordinaryIncome1,\n    shortTermCapitalGains1,\n    longTermCapitalGains1,\n    ordinaryIncome2,\n    shortTermCapitalGains2,\n    longTermCapitalGains2,\n  ]);\n  useEffect(() => {\n    setTaxDifference({\n      \"Federal Income Tax\": financial(\n        taxMarried[\"Federal Income Tax\"] -\n          tax1[\"Federal Income Tax\"] -\n          tax2[\"Federal Income Tax\"]\n      ),\n      Medicare: financial(\n        taxMarried[\"Medicare\"] - tax1[\"Medicare\"] - tax2[\"Medicare\"]\n      ),\n      LTCG: financial(taxMarried[\"LTCG\"] - tax1[\"LTCG\"] - tax2[\"LTCG\"]),\n      NIIT: financial(taxMarried[\"NIIT\"] - tax1[\"NIIT\"] - tax2[\"NIIT\"]),\n      \"State Income Tax\": financial(\n        taxMarried[\"State Income Tax\"] -\n          tax1[\"State Income Tax\"] -\n          tax2[\"State Income Tax\"]\n      ),\n      \"Total Tax\": financial(\n        taxMarried[\"Total Tax\"] - tax1[\"Total Tax\"] - tax2[\"Total Tax\"]\n      ),\n    });\n  }, [taxMarried, tax1, tax2]);\n\n  const calculateTax = (\n    filingStatus,\n    ordinaryIncome,\n    shortTermCapitalGains,\n    longTermCapitalGains\n  ) => {\n    const jurisdiction = JurisdictionEnum.FEDERAL.name;\n    const deductionType = DeductionTypeEnum.STANDARD.name;\n\n    const deduction = calculateDeduction(\n      jurisdiction,\n      filingStatus,\n      deductionType,\n      0\n    );\n\n    const taxableIncome = Math.max(0, ordinaryIncome - deduction);\n\n    const incomeTax = calculateIncomeTax(\n      jurisdiction,\n      filingStatus,\n      taxableIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n    const medicareTax = calculateMedicareTax(filingStatus, ordinaryIncome);\n    const longTermCapitalGainsTax = calculateLongTermCapitalGainsTax(\n      jurisdiction,\n      filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n    const netInvestmentIncomeTax = calculateNetInvestmentIncomeTax(\n      filingStatus,\n      ordinaryIncome,\n      shortTermCapitalGains + longTermCapitalGains\n    );\n\n    const stateIncomeTax = calculateIncomeTax(\n      JurisdictionEnum.CALIFORNIA.name,\n      filingStatus,\n      taxableIncome,\n      shortTermCapitalGains,\n      longTermCapitalGains\n    );\n    return {\n      \"Federal Income Tax\": financial(incomeTax),\n      Medicare: financial(medicareTax),\n      LTCG: financial(longTermCapitalGainsTax),\n      NIIT: financial(netInvestmentIncomeTax),\n      \"State Income Tax\": financial(stateIncomeTax),\n      \"Total Tax\": financial(\n        incomeTax +\n          medicareTax +\n          longTermCapitalGainsTax +\n          netInvestmentIncomeTax +\n          stateIncomeTax\n      ),\n    };\n  };\n\n  return (\n    <div className=\"App App-header\">\n      <div className=\"row\">\n        <div className=\"bordered\">\n          Person 1\n          <LabeledTextBox\n            label=\"Ordinary Income\"\n            onInput={(textValue) => setOrdinaryIncome1(parseFloat(textValue || \"0\"))}\n          ></LabeledTextBox>\n          <LabeledTextBox\n            label=\"Short Term Capital Gains\"\n            onInput={(textValue) =>\n              setShortTermCapitalGains1(parseFloat(textValue || \"0\"))\n            }\n          ></LabeledTextBox>\n          <LabeledTextBox\n            label=\"Long Term Capital Gains\"\n            onInput={(textValue) =>\n              setLongTermCapitalGains1(parseFloat(textValue || \"0\"))\n            }\n          ></LabeledTextBox>\n        </div>\n        <div className=\"bordered\">\n          Person 2\n          <LabeledTextBox\n            label=\"Ordinary Income\"\n            onInput={(textValue) => setOrdinaryIncome2(parseFloat(textValue || \"0\"))}\n          ></LabeledTextBox>\n          <LabeledTextBox\n            label=\"Short Term Capital Gains\"\n            onInput={(textValue) =>\n              setShortTermCapitalGains2(parseFloat(textValue || \"0\"))\n            }\n          ></LabeledTextBox>\n          <LabeledTextBox\n            label=\"Long Term Capital Gains\"\n            onInput={(textValue) =>\n              setLongTermCapitalGains2(parseFloat(textValue || \"0\"))\n            }\n          ></LabeledTextBox>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"bordered\">\n          Person 1 Taxes\n          {Object.entries(tax1).map(([key, value]) => (\n            <div>\n              {key}: {value}\n            </div>\n          ))}\n        </div>\n        <div className=\"bordered\">\n          Person 2 Taxes\n          {Object.entries(tax2).map(([key, value]) => (\n            <div>\n              {key}: {value}\n            </div>\n          ))}\n        </div>\n      </div>\n      <div className=\"bordered\">\n        Married Taxes\n        {Object.entries(taxMarried).map(([key, value]) => (\n          <div>\n            {key}: {value}\n          </div>\n        ))}\n      </div>\n      <div className=\"bordered\">\n        Tax Difference\n        {Object.entries(taxDifference).map(([key, value]) => (\n          <div>\n            {key}: {value}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import \"./App.css\";\nimport React from \"react\";\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { EstimatedTaxes } from \"./components/EstimatedTaxes.jsx\";\nimport { TaxChart } from \"./components/TaxChart.jsx\";\nimport { MarriagePenalty } from \"./components/MarriagePenalty\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Router>\n        <div className=\"row\">\n          <div className=\"nav\">\n            <nav>\n              <ul>\n                <li>\n                  <Link to=\"/brasstax/estimated-taxes\">Estimated Taxes</Link>\n                </li>\n                <li>\n                  <Link to=\"/brasstax/tax-chart\">Tax Chart</Link>\n                </li>\n                <li>\n                  <Link to=\"/brasstax/marriage-penalty\">Marriage Penalty</Link>\n                </li>\n              </ul>\n            </nav>\n          </div>\n          <div className=\"main\">\n            <Switch>\n              <Route path=\"/brasstax/estimated-taxes\">\n                <EstimatedTaxes />\n              </Route>\n              <Route path=\"/brasstax/tax-chart\">\n                <TaxChart />\n              </Route>\n              <Route path=\"/brasstax/marriage-penalty\">\n                <MarriagePenalty />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}